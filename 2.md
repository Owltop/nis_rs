Я напишу реферат на статью Inside the Social Network’s (Datacenter) Network (https://cseweb.ucsd.edu/~snoeren/papers/fb-sigcomm15.pdf) про сетевой трафик внутри датацентров Facebook.


Данная статья на сильно используется в статье про eRPC, однако мне она представилась интересной, так как рассказывает интересные и неизвестные мне до этого наблюдения о поведении сетевого трафика внутри больших дц. В статье о eRPC используется вывод из обозреваемой мною статьи, что 99% соединений в дц загружены менее, чем на 10% (первый параграф 5.2.2).

В статье Inside the Social Network’s (Datacenter) Network не решается какая-то конкретная задача, просто представляется подход для наблюдения за сетевым трафиком внутри дц (не без изъянов правда) и выводы об этом трафике. До этого такую информацию публиковал только Microsoft, где природа трафика всё же отличается от трафика Facebook. Так как сетевую инфраструктуру дц (она hardware) надо планировать заранее, важно уже на этом этапе понимать, какой будет сетевой трафик. (На самом деле это полезно, чтобы понять, какой коммутатор для какого уровня купить. Никаких открытий в статье о новой архитектуре сети не делается)

Следят за сетевым трафиком авторы статьи двумя способами: Fbflow (система мониторинга в Facebook, хорошая и прекрасная, но показывает агрегированные данные, что плохо для хорошего анализа трафика с перцентилями) и Port mirroring (он показывает информацию с одной конкретной машины и довольно легковесен, однако не со всех машин они таким образом собрали данные, а только с части. И это низкоуровневый инструмент). Дальше авторы статье сравнивают информацию, полученную двумя этими способами (второй более правдивый).

Коротко изложу основные результаты статьи: самые загруженные серверы - это веб-серверы (на запросы клиента извне отвечают) и кэш-серверы. Hadoop-серверы загружены меньше всего (там MapReduce-гоняются, например), но менее стабильны( иногда пик загрузки, иногда её нет, даже на уровне пакетов на таких серверах либо ACK-и, либо MTU (Maximum Transmission Unit). Коммутаторы в целом не загружены (больше всего загружены на веб-серверах и кеш-серверах), как и соединения. Пакеты отбрасываются очень редко. Очень много трафика внутри стоек (особенно для Hadoop-серверов), довольно много внутри кластера. Мало внутри дц (но между разными кластерами) и еще меньше кросс-дц. Трафик, то есть, хорошо локализован (В статье фактов гораздо больше, только некоторые осветил).

Вклад работы большой. Во-первых, это интересно. Во-вторых, это важная информация, с учетом которой можно разрабатывать новые протоколы для сетевого взаимодействия. Довольно высокая цитируемость этой статьи это подтверждают. И, как я уже и говорил, такая информация о работе дц большой компании обычно не публикуются. До обозреваемой статьи так делал только Microsoft.

